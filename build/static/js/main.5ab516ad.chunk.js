(this.webpackJsonpvxnnchat=this.webpackJsonpvxnnchat||[]).push([[0],{119:function(e,t,n){},121:function(e,t,n){"use strict";n.r(t),n.d(t,"Context",(function(){return U}));var c=n(1),i=n(39),a=n.n(i),r=n(15),s=n(49),o=n(162),j=n(164),d=n(160),u=n(158),l="/login",b="/chat",h=n(37),x=n(3);function O(){var e=Object(c.useContext)(U).auth,t=Object(h.a)(e),n=Object(r.a)(t,1)[0];return Object(x.jsx)(o.a,{color:"secondary",position:"static",children:Object(x.jsx)(j.a,{variant:"dense",children:Object(x.jsx)(d.a,{container:!0,justify:"flex-end",children:n?Object(x.jsx)(u.a,{onClick:function(){return e.signOut()},variant:"outlined",children:"\u0412\u044b\u0439\u0442\u0438"}):Object(x.jsx)(s.b,{to:l,children:Object(x.jsx)(u.a,{variant:"outlined",children:"\u041b\u043e\u0433\u0438\u043d"})})})})})}var p=n(21),v=n(45),f=n.n(v),g=n(58),m=n(165),y=n(166),w=n(41);n(82),n(117);var C=n(161),I=n(157),k=n(89),L=function(){return Object(x.jsx)(m.a,{children:Object(x.jsx)(d.a,{container:!0,style:{height:window.innerHeight-50},alignItems:"center",justifyContent:"center",children:Object(x.jsx)(d.a,{container:!0,alignItems:"center",direction:"column",children:Object(x.jsxs)("div",{className:"lds-spinner",children:[Object(x.jsx)("div",{}),Object(x.jsx)("div",{}),Object(x.jsx)("div",{}),Object(x.jsx)("div",{}),Object(x.jsx)("div",{}),Object(x.jsx)("div",{}),Object(x.jsx)("div",{}),Object(x.jsx)("div",{}),Object(x.jsx)("div",{}),Object(x.jsx)("div",{}),Object(x.jsx)("div",{}),Object(x.jsx)("div",{})]})})})})},N=function(){var e=Object(c.useContext)(U),t=e.auth,n=e.firestore,i=Object(h.a)(t),a=Object(r.a)(i,1)[0],s=Object(c.useState)(""),o=Object(r.a)(s,2),j=o[0],l=o[1],b=Object(k.a)(n.collection("messages")),O=Object(r.a)(b,3),p=O[0],v=O[1],y=(O[2],function(){var e=Object(g.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.collection("messages").add({uid:a.uid,displayName:a.displayName,photoURL:a.photoURL,text:j}),l("");case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}());return v?Object(x.jsx)(L,{}):(console.log(p),Object(x.jsx)(m.a,{children:Object(x.jsxs)(d.a,{container:!0,justify:"center",style:{height:window.innerHeight-50,marginTop:20},children:[Object(x.jsx)("div",{style:{width:"800%",height:"60vh",border:"1px solid gray",overflowY:"auto"},children:p.map((function(e){return Object(x.jsxs)("div",{style:{margin:10,border:a.uid===e.uid?"1px solid green":"2px dashed red",marginLeft:a.uid===e.uid?"auto":"10px"},children:[Object(x.jsxs)(d.a,{container:!0,children:[Object(x.jsx)(C.a,{src:e.photoURL}),Object(x.jsx)("div",{children:e.displayName})]}),Object(x.jsx)("div",{children:e.text})]})}))}),Object(x.jsxs)(d.a,{container:!0,direction:"column",alignItems:"flex-end",style:{width:"100%"},children:[Object(x.jsx)(I.a,{fullWidth:!0,variant:"outlined",value:j,onChange:function(e){return l(e.target.value)}}),Object(x.jsx)(u.a,{onClick:y,variant:"outlined",children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"})]})]})}))},A=[{path:l,Component:function(){var e=Object(c.useContext)(U).auth,t=function(){var t=Object(g.a)(f.a.mark((function t(){var n,c,i;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=new w.a.auth.GoogleAuthProvider,t.next=3,e.signInWithPopup(n);case 3:c=t.sent,i=c.user,console.log(i);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(x.jsx)(m.a,{children:Object(x.jsx)(d.a,{container:!0,style:{height:window.innerHeight-50},alignItems:"center",justifyContent:"center",children:Object(x.jsx)(d.a,{style:{width:400,background:"lightgray"},container:!0,alignItems:"center",direction:"column",children:Object(x.jsx)(y.a,{p:5,children:Object(x.jsx)(u.a,{onClick:t,variant:"outlined",children:"\u0412\u043e\u0439\u0442\u0438 \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e Google"})})})})})}}],G=[{path:b,Component:N}],P=function(){var e=Object(c.useContext)(U).auth,t=Object(h.a)(e),n=Object(r.a)(t,1)[0];return console.log(n),n?Object(x.jsxs)("switch",{children:[G.map((function(e){var t=e.path,n=e.Component;return Object(x.jsx)(p.b,{path:t,component:n,exact:!0},t)})),Object(x.jsx)(p.a,{to:b})]}):Object(x.jsxs)("switch",{children:[A.map((function(e){var t=e.path,n=e.Component;return Object(x.jsx)(p.b,{path:t,component:n,exact:!0},t)})),Object(x.jsx)(p.a,{to:l})]})};n(119);function R(){var e=Object(c.useContext)(U).auth,t=Object(h.a)(e),n=Object(r.a)(t,3),i=(n[0],n[1]);n[2];return i?Object(x.jsx)(L,{}):Object(x.jsxs)(s.a,{children:[Object(x.jsx)(O,{}),Object(x.jsx)(P,{})]})}n(120);w.a.initializeApp({apiKey:"AIzaSyDAC4_oFxWcJsNnb7MGvd0UpQd9PRisLsE",authDomain:"vxnnchat.firebaseapp.com",projectId:"vxnnchat",storageBucket:"vxnnchat.appspot.com",messagingSenderId:"328085417312",appId:"1:328085417312:web:ffd680587186fc4befc205",measurementId:"G-28W2YMTB37"});t.default=w.a;var U=Object(c.createContext)(null),W=w.a.auth(),B=w.a.firestore();a.a.render(Object(x.jsx)(U.Provider,{value:{firebase:w.a,auth:W,firestore:B},children:Object(x.jsx)(R,{})}),document.getElementById("root"))}},[[121,1,2]]]);
//# sourceMappingURL=main.5ab516ad.chunk.js.map