{"version":3,"sources":["utils/consts.js","components/NavBar.js","components/Loader.js","components/Chat.js","routes.js","components/Login.js","components/AppRouter.js","App.js","index.js"],"names":["LOGIN_ROUTE","CHAT_ROUTE","Navbar","auth","useContext","Context","useAuthState","user","AppBar","color","position","Toolbar","variant","Grid","container","justify","Button","onClick","signOut","to","Loader","Container","style","height","window","innerHeight","alignItems","justifyContent","direction","className","Chat","firestore","useState","value","setValue","useCollectionData","collection","messages","loading","sendMessage","a","add","uid","displayName","photoURL","text","console","log","marginTop","width","border","overflowY","map","message","margin","marginLeft","Avatar","src","TextField","fullWidth","onChange","e","target","publicRoutes","path","Component","login","provider","firebase","GoogleAuthProvider","signInWithPopup","background","Box","p","privateRoutes","AppRouter","component","exact","App","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","createContext","ReactDOM","render","Provider","document","getElementById"],"mappings":"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","file":"static/js/main.5ab516ad.chunk.js","sourcesContent":["export const LOGIN_ROUTE = '/login'\r\nexport const CHAT_ROUTE = '/chat'","import React, {useContext} from 'react';\r\nimport { NavLink } from 'react-router-dom'\r\nimport {AppBar, Button, Grid, Toolbar} from \"@mui/material\";\r\nimport {LOGIN_ROUTE} from \"../utils/consts\";\r\nimport {Context} from \"../index\";\r\nimport {useAuthState} from \"react-firebase-hooks/auth\";\r\n\r\n\r\nexport default function Navbar () {\r\n    const {auth} = useContext(Context)\r\n    const [user] = useAuthState(auth)\r\n\r\n    return (\r\n        <AppBar color={\"secondary\"} position=\"static\">\r\n            <Toolbar variant={\"dense\"}>\r\n                <Grid container justify={\"flex-end\"}>\r\n                    {user ?\r\n                        <Button onClick={() => auth.signOut()} variant={\"outlined\"}>Выйти</Button>\r\n                        :\r\n                        <NavLink to={LOGIN_ROUTE}>\r\n                            <Button variant={\"outlined\"}>Логин</Button>\r\n                        </NavLink>\r\n                    }\r\n                </Grid>\r\n            </Toolbar>\r\n        </AppBar>\r\n    )\r\n}","import React from 'react';\r\nimport {Box, Button, Container, Grid} from \"@mui/material\";\r\n\r\nconst Loader = () => {\r\n    return (\r\n        <Container>\r\n            <Grid container style={{height: window.innerHeight - 50}} alignItems={\"center\"} justifyContent={\"center\"}>\r\n                <Grid container alignItems={\"center\"} direction={\"column\"}>\r\n                    <div className=\"lds-spinner\">\r\n                        <div></div>\r\n                        <div></div>\r\n                        <div></div>\r\n                        <div></div>\r\n                        <div></div>\r\n                        <div></div>\r\n                        <div></div>\r\n                        <div></div>\r\n                        <div></div>\r\n                        <div></div>\r\n                        <div></div>\r\n                        <div></div>\r\n                    </div>\r\n                </Grid>\r\n            </Grid>\r\n        </Container>\r\n    );\r\n};\r\n\r\nexport default Loader;\r\n","import React, {useContext, useState} from 'react';\r\nimport {Context} from \"../index\";\r\nimport {useAuthState} from \"react-firebase-hooks/auth\";\r\nimport {Avatar, Button, Container, Grid, TextField} from \"@mui/material\";\r\nimport {useCollectionData} from \"react-firebase-hooks/firestore\";\r\nimport Loader from \"./Loader\";\r\n\r\nconst Chat = () => {\r\n    const {auth, firestore} = useContext(Context)\r\n    const [user] = useAuthState(auth)\r\n\r\n    const [value, setValue] = useState('')\r\n\r\n    const [messages, loading, error] = useCollectionData(\r\n        firestore.collection('messages')\r\n    )\r\n\r\n    const sendMessage = async () => {\r\n        firestore.collection('messages').add({\r\n            uid: user.uid,\r\n            displayName: user.displayName,\r\n            photoURL: user.photoURL,\r\n            text: value\r\n        })\r\n        setValue('')\r\n    }\r\n\r\n    if(loading) {\r\n        return <Loader />\r\n    }\r\n    console.log(messages)\r\n    return (\r\n        <Container>\r\n            <Grid container\r\n                  justify={\"center\"}\r\n                  style={{height: window.innerHeight - 50, marginTop: 20}}>\r\n                <div style={{width:'800%', height: '60vh', border: '1px solid gray', overflowY: 'auto'}}>\r\n                    {messages.map(message =>\r\n                        <div style={{\r\n                            margin: 10,\r\n                            border: user.uid === message.uid ? '1px solid green' : '2px dashed red',\r\n                            marginLeft: user.uid === message.uid ? 'auto' : '10px'\r\n                        }}>\r\n                            <Grid container>\r\n                                <Avatar src={message.photoURL} />\r\n                                <div>{message.displayName}</div>\r\n                            </Grid>\r\n                            <div>{message.text}</div>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n                <Grid container\r\n                      direction={'column'}\r\n                      alignItems={\"flex-end\"}\r\n                      style={{width:'100%'}}>\r\n                    <TextField\r\n                        fullWidth\r\n                        variant={\"outlined\"}\r\n                        value={value}\r\n                        onChange={e => setValue(e.target.value)}>\r\n\r\n                    </TextField>\r\n                    <Button onClick={sendMessage} variant={\"outlined\"}>Отправить</Button>\r\n                </Grid>\r\n            </Grid>\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default Chat","import React from 'react'\r\nimport { LOGIN_ROUTE, CHAT_ROUTE } from './utils/consts';\r\nimport Login from './components/Login';\r\nimport Chat from './components/Chat';\r\n\r\nexport const publicRoutes = [\r\n    {\r\n        path: LOGIN_ROUTE,\r\n        Component: Login\r\n    }\r\n]\r\n\r\nexport const privateRoutes = [\r\n    {\r\n        path: CHAT_ROUTE,\r\n        Component: Chat\r\n    }\r\n]","import React, {useContext} from 'react';\r\nimport {Box, Button, Container, Grid} from \"@mui/material\";\r\nimport {Context} from \"../index\";\r\nimport firebase from 'firebase';\r\nimport 'firebase/auth';\r\nimport 'firebase/database';\r\n\r\nexport default function Login () {\r\n\r\n    const { auth } = useContext(Context)\r\n\r\n    const login = async () => {\r\n        const provider = new firebase.auth.GoogleAuthProvider()\r\n        const {user} = await auth.signInWithPopup(provider)\r\n        console.log(user)\r\n    }\r\n\r\n    return (\r\n        <Container>\r\n            <Grid container style={{height: window.innerHeight - 50}} alignItems={\"center\"} justifyContent={\"center\"}>\r\n                <Grid style={{width: 400, background: 'lightgray'}} container alignItems={\"center\"} direction={\"column\"}>\r\n                    <Box p={5}>\r\n                        <Button onClick={login} variant={\"outlined\"}>Войти с помощью Google</Button>\r\n                    </Box>\r\n                </Grid>\r\n            </Grid>\r\n        </Container>\r\n    )\r\n}","import React, {Component, useContext} from 'react';\r\nimport { Route, Redirect } from 'react-router-dom'\r\nimport {privateRoutes, publicRoutes} from \"../routes\";\r\nimport {CHAT_ROUTE, LOGIN_ROUTE} from \"../utils/consts\";\r\nimport {useAuthState} from 'react-firebase-hooks/auth'\r\nimport { Context } from '../index'\r\n\r\nconst AppRouter = () => {\r\n    const {auth} = useContext(Context)\r\n    const [user] = useAuthState(auth)\r\n\r\n    console.log(user)\r\n\r\n    return user ?\r\n        (\r\n            <switch>\r\n                {privateRoutes.map(({path, Component}) =>\r\n                    <Route key={path} path={path} component={Component} exact={true} />\r\n                )}\r\n                <Redirect to={CHAT_ROUTE}/>\r\n            </switch>\r\n        )\r\n        :\r\n        (\r\n            <switch>\r\n                {publicRoutes.map(({path, Component}) =>\r\n                    <Route key={path} path={path} component={Component} exact={true} />\r\n                )}\r\n                <Redirect to={LOGIN_ROUTE}/>\r\n            </switch>\r\n        )\r\n\r\n\r\n}\r\n\r\nexport default AppRouter","import { BrowserRouter } from 'react-router-dom'\n\nimport Navbar from \"./components/NavBar\";\nimport AppRouter from \"./components/AppRouter\";\n\nimport './App.css'\nimport {useContext} from \"react\";\nimport {Context} from \"./index\";\nimport {useAuthState} from \"react-firebase-hooks/auth\";\nimport Loader from \"./components/Loader\";\n\nexport default function App() {\n\n    const {auth} = useContext(Context)\n    const [user, loading, error] = useAuthState(auth)\n\n    if(loading){\n        return <Loader/>\n    }\n\n    return (\n        <BrowserRouter>\n            <Navbar />\n            <AppRouter />\n        </BrowserRouter>\n    );\n}\n","import React, {createContext} from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nimport firebase from 'firebase';\nimport 'firebase/firestore'\nimport 'firebase/auth'\n\nfirebase.initializeApp({\n    apiKey: \"AIzaSyDAC4_oFxWcJsNnb7MGvd0UpQd9PRisLsE\",\n    authDomain: \"vxnnchat.firebaseapp.com\",\n    projectId: \"vxnnchat\",\n    storageBucket: \"vxnnchat.appspot.com\",\n    messagingSenderId: \"328085417312\",\n    appId: \"1:328085417312:web:ffd680587186fc4befc205\",\n    measurementId: \"G-28W2YMTB37\"\n})\n\nexport default firebase;\n\nexport const Context = createContext(null)\n\nconst auth = firebase.auth()\nconst firestore = firebase.firestore()\n\n\nReactDOM.render(\n    <Context.Provider value={{\n        firebase,\n        auth,\n        firestore\n    }}>\n        <App />\n    </Context.Provider>,\n    document.getElementById('root')\n);"],"sourceRoot":""}